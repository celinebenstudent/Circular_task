
# **Circular Target Task Analysis — Report**

## **1. Introduction**

The goal of this assignment was to understand, process, and analyze data generated by the MouseReMoCo software during a circular pointing task, following the dataset format described in Fauviaux et al. (2021).
Although the coding part was relatively straightforward, the main challenge was to deeply understand how the task works, how the software records data, and how to correctly interpret the contents of both .csv and .marker.csv files.

This report summarizes the dificulties we encountered, how we solved them, how we validated our pipeline and how we worked as a duo to deliver a consistent and replicable analysis.

## **2. Challenges Encountered and How We Resolved Them**

### **2.1 Understanding MouseReMoCo’s File Structure**

MouseReMoCo produces two complementary files:

* **`*.csv`** - continuous raw mouse samples
* **`*.marker.csv`** - event markers indicating when the task starts and stops recording

One of the first challenges was discovering that the **raw CSV does not contain only “task data”**:
it contains *all* mouse movements, including periods where the task is paused.

Additionally, the marker file includes:

* two initial non-marker lines (date, calibration info)
* a series of `DoRecord` and `DoPause` events
* trailing summary text that must **not** be interpreted as markers

This meant we could not naively read lines; we needed custom parsing logic.

**Solution:**
We manually inspected several files, then implemented logic to:

1. Skip the initial two metadata lines.
2. Identify lines containing `DoCycleChange:DoRecord` or `DoCycleChange:DoPause`.
3. Extract only the event timestamps.
4. Pair each `DoRecord` with its following `DoPause`.

This allowed us to correctly reconstruct the task’s recording intervals.

### **2.2 Parsing the Non-Standard CSV Header**

The first line of the main CSV is not a typical header — it is a list of **key-value pairs separated by semicolons**:

```
screenWidth 1920; screenHeight 1080; centerX 960; ...
```

MouseReMoCo’s documentation does not explicitly describe this format, so we needed to reverse-engineer it.

The challenge was:

* the header is not comma-separated,
* some values are numeric, others are strings,
* the actual column header (`timestamp,mouseX,mouseY,...`) appears later in the file.

**Solution:**
We split the header on semicolons, split again on the first space, and attempted to convert numerical values to floats.
This gave us the task geometry:

* center position
* inner/outer radii
* screen resolution

These were necessary to properly center the trajectory and draw the target circles.

### **2.3 Aligning Raw Samples With Marker Timestamps**

This was one of the **most subtle** challenges.

The two files use **absolute Unix timestamps**, but:

* raw samples start at time A
* the first `DoRecord` marker occurs at time B
* A ≠ B

Therefore, to express all times relative to the first recording, we needed to choose a consistent reference.

**Solution:**
We used:

* `t_sec = (raw_ts - t0_record) / 1000`
  for raw data
* `(marker_ts - t0_record) / 1000`
  for start/end markers

This allowed us to highlight recording intervals on top of the raw time series.

We also confirmed visually that applying a constant offset (like in the assignment’s reference output) was unnecessary for correctness, but we added the option to reproduce the assignment’s exact formatting.

### **2.4 Reconstructing the Circular Trajectory**

Plotting the trajectory required additional care:

1. Mouse coordinates use a **screen coordinate system** (y increases downward).
2. The task geometry uses a **mathematical coordinate system** (y increases upward).
3. The raw positions are absolute pixels; we needed positions **relative to the task center**.

**Solution:**
We computed:

```
x_rel = mouseX - centerX
y_rel = centerY - mouseY   # invert y-axis
```

We then:

* plotted the trajectory only during `DoRecord` intervals,
* highlighted points returned as “inside target”,
* overlaid the inner and outer target circles using the radii read from the header.

These visual checks confirmed our parsing and alignment logic was correct.

---

## **3. Validation of Results**

We validated our work through multiple complementary methods:

### **(a) Visual inspection**

We compared:

* raw time series with vertical record/pause markers
* the trajectory plot with target rings

The transitions aligned perfectly, and the trajectory behaved consistently with our manual interactions during recording.

### **(b) Reproducing the assignment’s expected output**

We verified that:

* the header fields matched the assignment example,
* the record intervals we printed matched the expected ones (within MouseReMoCo’s sampling granularity),
* the figures matched the shape and behavior shown in the assignment description.

### **(c) Processing a new dataset recorded by us**

We ran MouseReMoCo on our own machines, generated a fresh dataset, and processed it.
The script correctly extracted:

* header information
* record/pause markers
* time-aligned trajectories

This confirmed that our pipeline is general and not dependent on one specific file.

## **4. Organization and Roles**

We worked as a team of two students and used GitHub to share and integrate our work.

### **Celine — Project Manager and Plots Computation**

*Coordinated the project and organized the repository.

*Handled the generation of all plots (time series and trajectory).

*Ensured that visual outputs matched the task geometry and recording intervals.

### **Axelle — Values Computation and Written Report**

*Implemented the extraction of key values (record intervals, centered coordinates, timestamps).

*Verified the correctness of computed values.

*Wrote and structured the final report.

### **Joint Work**

*Interpreted the data format and marker logic together.

*Tested the full pipeline on multiple datasets and created new datasests.

*Reviewed and validated each other’s contributions.

## **5. Conclusion**

This assignment confirmed that the main challenge lies not in writing code, but in **understanding how MouseReMoCo encodes and structures data**.
Interpreting timestamps, handling the mixed-format marker file, decoding the non-standard header, and reconstructing the trajectory required careful exploration and validation.

By combining manual inspection, reverse-engineering, visualization, and teamwork, we produced a complete pipeline capable of:

* parsing any MouseReMoCo dataset,
* extracting correct recording intervals,
* reconstructing the cursor trajectory,
* and reproducing the figures required for the circular target task analysis.

The final code is general, reproducible, and well-documented in our GitHub repository.